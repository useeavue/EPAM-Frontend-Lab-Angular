"use strict";(self.webpackChunkng_course=self.webpackChunkng_course||[]).push([[893],{3893:(H,_,s)=>{s.r(_),s.d(_,{CoursesPageModule:()=>U});var a=s(9808),c=s(3075),p=s(4100),e=s(5e3),y=s(3867),u=s(2722),m=s(98),T=s(8422),g=s(9224),l=s(7423);let b=(()=>{class t{constructor(){this.close=new e.vpe,this.confirm=new e.vpe}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-modal-window"]],outputs:{close:"close",confirm:"confirm"},decls:9,vars:0,consts:[[1,"overlay"],[1,"modal"],[1,"btn-container"],["mat-raised-button","","color","primary",3,"click"],["mat-raised-button","","color","warn",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-card",1),e.TgZ(2,"h1"),e._uU(3,"Do you really want to delete this course?"),e.qZA(),e.TgZ(4,"div",2),e.TgZ(5,"button",3),e.NdJ("click",function(){return n.confirm.emit()}),e._uU(6," Yes"),e.qZA(),e.TgZ(7,"button",4),e.NdJ("click",function(){return n.close.emit()}),e._uU(8,"No"),e.qZA(),e.qZA(),e.qZA(),e.qZA())},directives:[g.a8,l.lW],styles:[".overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#0003;-webkit-backdrop-filter:blur(4px);backdrop-filter:blur(4px);z-index:111}.overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center;position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);max-width:60rem;background-color:#f3f3f3;padding:3rem 4rem;z-index:1000}.overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-size:18px;margin-bottom:40px}.overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:200px}.overlay[_ngcontent-%COMP%]   .modal[_ngcontent-%COMP%]   .btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:80px}"]}),t})();var x=s(4112),f=s(7322),v=s(7531),C=s(3874);let A=(()=>{class t{constructor(o,n,i){this.router=o,this.searchService=n,this.destroy$=i,this.inputValueEvent=new e.vpe,this.formGroup=new c.cw({search:new c.NI("")})}ngOnInit(){this.searchService.searchValue.pipe((0,u.R)(this.destroy$)).subscribe(o=>{this.inputValueEvent.emit(o)})}inputHandler(){var o;const n=null===(o=this.formGroup.get("search"))||void 0===o?void 0:o.value;this.searchService.searchInput$.next(n)}addCourseHandler(){this.router.navigate(["courses/new"])}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(p.F0),e.Y36(x.o),e.Y36(m.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-input-section"]],outputs:{inputValueEvent:"inputValueEvent"},features:[e._Bn([m.N])],decls:11,vars:1,consts:[[1,"input-section-wrap","flex-center"],[1,"container","flex-center-sb","search-form"],[1,"flex-center-gap-20",3,"formGroup"],["appearance","standard"],["matInput","","type","text","formControlName","search",3,"keyup"],["mat-raised-button","","color","primary","type","button",3,"click"],["aria-hidden","false"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"div",1),e.TgZ(2,"div",2),e.TgZ(3,"mat-form-field",3),e.TgZ(4,"mat-label"),e._uU(5,"Type to search"),e.qZA(),e.TgZ(6,"input",4),e.NdJ("keyup",function(){return n.inputHandler()}),e.qZA(),e.qZA(),e.qZA(),e.TgZ(7,"button",5),e.NdJ("click",function(){return n.addCourseHandler()}),e.TgZ(8,"mat-icon",6),e._uU(9,"add"),e.qZA(),e._uU(10," Add course "),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(2),e.Q6J("formGroup",n.formGroup))},directives:[c.JL,c.sg,f.KE,f.hX,v.Nt,c.Fj,c.JJ,c.u,l.lW,C.Hw],styles:[".search-form[_ngcontent-%COMP%]{padding:10px 0}"]}),t})();var d=s(9379);let M=(()=>{class t{constructor(o,n){this.element=o,this.renderer2=n,this.date="",this.creationDate=0,this.currentDate=Date.now(),this.fourteenDays=d.mK*d.ks*d.oG*d.Ix*(2*d.NA)}ngOnInit(){this.creationDate=Date.parse(this.date),this.isBorderGreen()&&this.changeBorderColor("green"),this.isBorderBlue()&&this.changeBorderColor("blue")}isBorderGreen(){return this.creationDate<this.currentDate&&this.creationDate>=this.currentDate-this.fourteenDays}isBorderBlue(){return this.creationDate>this.currentDate}changeBorderColor(o){this.renderer2.setStyle(this.element.nativeElement,"border",`1px solid ${o}`)}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(e.SBq),e.Y36(e.Qsj))},t.\u0275dir=e.lG2({type:t,selectors:[["","course-item-border",""]],inputs:{date:["course-item-border","date"]}}),t})();var w=s(8105);const Z=function(t){return{active:t}},O=function(t){return["/courses",t]},P=function(t){return{title:t}};let I=(()=>{class t{constructor(){this.course={id:0,name:"",date:"",length:0,description:"",isTopRated:!1},this.courseNumber=0,this.topRatedClicked=new e.vpe,this.deleteEvent=new e.vpe}get numberOfCourse(){return`${this.courseNumber+1}.`}topRatedHandle(){this.topRatedClicked.emit(this.course)}deleteHandler(){this.deleteEvent.emit(this.course.id)}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-course-item"]],inputs:{course:"course",courseNumber:"courseNumber"},outputs:{topRatedClicked:"topRatedClicked",deleteEvent:"deleteEvent"},decls:30,vars:25,consts:[[1,"course-card","flex-center"],[1,"container",3,"course-item-border"],[1,"flex-gap-20"],[1,"content","flex-column-gap-20"],[1,"content-heading","flex-center-sb"],[1,"flex-center"],[1,"content-name"],[3,"click"],[1,"content-top-rated",3,"ngClass"],[1,"content-info","flex-center-gap-20"],[1,"content-duration"],[1,"content-date"],[1,"content-text"],[1,"btn-container","flex-column-gap-20"],["mat-raised-button","","color","primary","type","button",3,"routerLink","queryParams"],["mat-raised-button","","type","button","color","warn",3,"click"]],template:function(o,n){1&o&&(e.TgZ(0,"div",0),e.TgZ(1,"mat-card",1),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.TgZ(4,"div",4),e.TgZ(5,"div",5),e.TgZ(6,"h2",6),e._uU(7),e.ALo(8,"titlecase"),e.qZA(),e.TgZ(9,"div",7),e.NdJ("click",function(){return n.topRatedHandle()}),e.TgZ(10,"mat-icon",8),e._uU(11,"star_border"),e.qZA(),e.TgZ(12,"mat-icon",8),e._uU(13,"star"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(14,"div",9),e.TgZ(15,"h2",10),e._uU(16),e.ALo(17,"duration"),e.qZA(),e.TgZ(18,"h2",11),e._uU(19),e.ALo(20,"date"),e.qZA(),e.qZA(),e.qZA(),e.TgZ(21,"p",12),e._uU(22),e.qZA(),e.qZA(),e.TgZ(23,"div",13),e.TgZ(24,"button",14),e.TgZ(25,"mat-icon"),e._uU(26,"create"),e.qZA(),e.qZA(),e.TgZ(27,"button",15),e.NdJ("click",function(){return n.deleteHandler()}),e.TgZ(28,"mat-icon"),e._uU(29,"clear"),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA(),e.qZA()),2&o&&(e.xp6(1),e.Q6J("course-item-border",n.course.date),e.xp6(6),e.AsE(" ",n.numberOfCourse," ",e.lcZ(8,10,n.course.name)," "),e.xp6(3),e.Q6J("ngClass",e.VKq(17,Z,!n.course.isTopRated)),e.xp6(2),e.Q6J("ngClass",e.VKq(19,Z,n.course.isTopRated)),e.xp6(4),e.hij(" ",e.lcZ(17,12,n.course.length)," "),e.xp6(3),e.hij(" ",e.xi3(20,14,n.course.date,"MM.dd.yyyy")," "),e.xp6(3),e.hij(" ",n.course.description," "),e.xp6(2),e.Q6J("routerLink",e.VKq(21,O,n.course.id))("queryParams",e.VKq(23,P,n.course.name)))},directives:[g.a8,M,C.Hw,a.mk,l.lW,p.rH],pipes:[a.rS,w.u,a.uU],styles:["h2[_ngcontent-%COMP%]{font-size:16px}.btn-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{display:block}.content[_ngcontent-%COMP%]{width:100%;min-height:80px}.course-card-item[_ngcontent-%COMP%]{border:2px solid #777;background-color:#fff;padding:20px}.content-top-rated[_ngcontent-%COMP%]{display:none;cursor:pointer;padding-bottom:3px;margin-left:5px;text-align:center;font-size:20px}.active[_ngcontent-%COMP%]{display:block}"],changeDetection:0}),t})(),N=(()=>{class t{transform(o){return o.length>1?o.sort((n,i)=>Date.parse(i.date)-Date.parse(n.date)):o}}return t.\u0275fac=function(o){return new(o||t)},t.\u0275pipe=e.Yjl({name:"orderBy",type:t,pure:!0}),t})();function k(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"app-modal-window",7),e.NdJ("close",function(){return e.CHM(o),e.oxw().modal=!1})("confirm",function(){return e.CHM(o),e.oxw().closeModalDeleteCourse()}),e.qZA()}}function D(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"app-course-item",8),e.NdJ("deleteEvent",function(i){return e.CHM(o),e.oxw().eventHandler(i)})("topRatedClicked",function(i){return e.CHM(o),e.oxw().markTopRated(i)}),e.qZA()}if(2&t){const n=r.index;e.Q6J("course",r.$implicit)("courseNumber",n)}}function q(t,r){if(1&t){const o=e.EpF();e.TgZ(0,"button",9),e.NdJ("click",function(){return e.CHM(o),e.oxw().loadMoreHandler()}),e._uU(1," LOAD MORE "),e.qZA()}}function E(t,r){1&t&&(e.TgZ(0,"mat-card",10),e._uU(1," NO DATA. FEEL FREE TO ADD NEW COURSE "),e.qZA())}let R=(()=>{class t{constructor(o,n){this.coursesDataService=o,this.destroy$=n,this.courseId=0,this.modal=!1,this.courses=[],this.coursesStartIndex=0,this.amountOfCourses=5}loadMoreHandler(){this.amountOfCourses+=2,this.getCourses()}ngOnInit(){this.getCourses()}getCourses(){this.coursesDataService.getList(this.coursesStartIndex,this.amountOfCourses).pipe((0,u.R)(this.destroy$)).subscribe(o=>{this.courses=o})}closeModalDeleteCourse(){this.coursesDataService.removeCourseById(this.courseId).pipe((0,u.R)(this.destroy$)).subscribe(()=>{this.getCourses()}),this.modal=!1}markTopRated(o){this.coursesDataService.markCourseTopRated(o).pipe((0,u.R)(this.destroy$)).subscribe(()=>this.getCourses())}eventHandler(o){this.courseId=o,this.modal=!0}handleSearch(o){""===o.trim()?this.getCourses():this.coursesDataService.searchCourses(o).pipe((0,u.R)(this.destroy$)).subscribe(n=>{this.courses=n})}}return t.\u0275fac=function(o){return new(o||t)(e.Y36(T.q),e.Y36(m.N))},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-courses-list"]],features:[e._Bn([m.N])],decls:8,vars:6,consts:[[3,"close","confirm",4,"ngIf"],[3,"inputValueEvent"],[1,"courses-list-wrap","flex-center"],[1,"container","flex-column-gap-20"],[3,"course","courseNumber","deleteEvent","topRatedClicked",4,"ngFor","ngForOf"],["mat-raised-button","","class","load-more",3,"click",4,"ngIf"],["class","no-data-message",4,"ngIf"],[3,"close","confirm"],[3,"course","courseNumber","deleteEvent","topRatedClicked"],["mat-raised-button","",1,"load-more",3,"click"],[1,"no-data-message"]],template:function(o,n){1&o&&(e.YNc(0,k,1,0,"app-modal-window",0),e.TgZ(1,"app-input-section",1),e.NdJ("inputValueEvent",function(h){return n.handleSearch(h)}),e.qZA(),e.TgZ(2,"div",2),e.TgZ(3,"div",3),e.YNc(4,D,1,2,"app-course-item",4),e.ALo(5,"orderBy"),e.YNc(6,q,2,0,"button",5),e.YNc(7,E,2,0,"mat-card",6),e.qZA(),e.qZA()),2&o&&(e.Q6J("ngIf",n.modal),e.xp6(4),e.Q6J("ngForOf",e.lcZ(5,4,n.courses)),e.xp6(2),e.Q6J("ngIf",n.courses.length>=1),e.xp6(1),e.Q6J("ngIf",n.courses.length<1))},directives:[a.O5,b,A,a.sg,I,l.lW,g.a8],pipes:[N],styles:[".courses-list-wrap[_ngcontent-%COMP%]{height:100%}.load-more[_ngcontent-%COMP%]{text-align:center;margin-bottom:20px;height:50px;cursor:pointer;width:100%;font-weight:500}.no-data-message[_ngcontent-%COMP%]{text-align:center}"]}),t})();const J=[{path:"",component:(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275cmp=e.Xpm({type:t,selectors:[["app-courses-page"]],decls:2,vars:0,template:function(o,n){1&o&&(e._UZ(0,"app-breadcrumbs"),e._UZ(1,"app-courses-list"))},directives:[y.n,R],styles:[""]}),t})()}];let B=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[p.Bz.forChild(J)],p.Bz]}),t})();var S=s(4263),L=s(4734);let U=(()=>{class t{}return t.\u0275fac=function(o){return new(o||t)},t.\u0275mod=e.oAB({type:t}),t.\u0275inj=e.cJS({imports:[[a.ez,c.u5,c.UX,B,S.t,L.J,f.lN,v.c,g.QW,C.Ps,l.ot]]}),t})()}}]);